<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Launcher</title>
    <script src="qrc:/qtwebchannel/qwebchannel.js"></script>
    <script>
        var pythonBackend = null;

        new QWebChannel(qt.webChannelTransport, function(channel) {
            pythonBackend = channel.objects.pythonBackend;
        });

        function premium() {
            var email = getEmail();
            var change_account;
            if (email == null) {
                while (email==null) {
                    storeEmail(prompt("Veuillez entrer votre E-mail"));
                }
            } else {
                while (change_account !== "Y" && change_account !== "N") {
                    change_account = prompt("Voulez-vous utiliser le dernier compte utilis√© ? (Y/N)");
                }
                if (change_account === "N") {
                    var email = null;
                    while (email==null) {
                        email = prompt("Veuillez entrer votre E-mail");
                        storeEmail(email);
                    }
                }
            }
            sendAction("login", email);
            window.location.href = "play.html";
        }

        function crack() {
            var username = undefined;
            while (username==undefined) {
                username = prompt("Nom d'utilisateur");
            }
            sendAction("crack", username);
            window.location.href = "play.html";
        }

        function storeEmail(value) {
            var email = value;
            if (email) {
                localStorage.setItem("user_email", email);
            }
        }

        function getEmail() {
            var email = localStorage.getItem("user_email");
            if (email) {
                return email;
            } else {
                return null;
            }
        }

        function sendAction(action, value) {
            if (pythonBackend) {
                pythonBackend.handle_action(action, value);
            } else {
                alert("Erreur : ", pythonBackend);
            }
        }
    </script>
</head>
<body>
    <button class="button" onclick="premium()">Joueur Premium</button>
    <button class="button" onclick="crack()">Joueur Crack</button>
</body>
<style>body {
    font-family: 'Arial', sans-serif;
    display: flex;
    justify-content: center;
    align-items: center;
    height: 100vh;
    margin: 0;
}

.container {
    text-align: center;
    background: rgba(255, 255, 255, 0.1);
    padding: 30px;
    border-radius: 15px;
    box-shadow: 0 4px 10px rgba(0, 0, 0, 0.3);
}

.button {
    background: #ff9800;
    color: white;
    font-size: 18px;
    padding: 12px 24px;
    margin: 10px;
    border: none;
    border-radius: 8px;
    cursor: pointer;
    transition: all 0.3s ease;
    box-shadow: 0 4px 6px rgba(0, 0, 0, 0.2);
}

.button:hover {
    background: #e68900;
    transform: translateY(-2px);
    box-shadow: 0 6px 12px rgba(0, 0, 0, 0.3);
}

.button:active {
    transform: translateY(0);
    box-shadow: 0 2px 6px rgba(0, 0, 0, 0.2);
}
</style>
</html>
